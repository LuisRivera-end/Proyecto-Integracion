<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumno</title>
    <link rel="stylesheet" href="./dist/output.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen">
  <div class="bg-gradient-to-br from-slate-600 via-slate-500 to-emerald-300 min-h-screen flex items-center justify-center p-4">
      <a href="login.html"
          class="fixed top-6 right-6 bg-slate-600 hover:bg-slate-700 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 z-50" title="Iniciar Sesi칩n">
         <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
      </a>
      <div class="w-full max-w-md relative">
         
        <div id="form-container" class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-10 border border-slate-200">
          <div class="text-center mb-10">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-slate-600 to-emerald-600 rounded-2xl mb-4 shadow-lg">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
            </div>
            <h1 class="text-3xl font-bold text-slate-800 mb-2">Sistema UAL</h1>
            <p class="text-slate-600 text-base">Genera tu ticket de atenci칩n</p>
          </div>
    
          <form id="ticket-form" class="space-y-6">
            <!-- Secci칩n de identificaci칩n -->
            <div class="bg-slate-50 rounded-xl p-4 border border-slate-200">
              <div class="flex items-center justify-between mb-3">
                <label class="block text-sm font-semibold text-slate-700">
                  Tipo de Usuario
                </label>
                <div class="flex items-center gap-2">
                  <label for="no-matricula-checkbox" class="text-sm text-slate-600 cursor-pointer">
                    Soy invitado
                  </label>
                  <input id="no-matricula-checkbox" type="checkbox" class="w-4 h-4 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500">
                </div>
              </div>
              
              <div>
                <label id="matricula-folio-label" for="input-matricula-folio" class="block text-sm font-semibold text-slate-700 mb-2">
                  Matr칤cula
                </label>
                <input 
                  type="text" 
                  id="input-matricula-folio" 
                  name="matricula"
                  required
                  placeholder="Ingresa tu matr칤cula" 
                  maxlength="5" 
                  pattern="\d{1,5}"
                  class="w-full px-4 py-3.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 outline-none transition-all bg-white text-slate-800 placeholder:text-slate-400"
                >
                <p id="invitado-info" class="hidden text-xs text-emerald-600 mt-2 bg-emerald-50 p-2 rounded-lg">
                  游눠 Como invitado, solo necesitas seleccionar el sector. Se generar치 un ticket especial.
                </p>
              </div>
            </div>
    
            <div>
              <label for="sector" class="block text-sm font-semibold text-slate-700 mb-2">
                Sector de Atenci칩n
              </label>
              <select 
                id="sector" 
                name="sector"
                required
                class="w-full px-4 py-3.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-500 focus:border-slate-500 outline-none transition-all bg-white text-slate-800"
              >
                <option value="">Selecciona un sector</option>
                <option value="Cajas">Cajas</option>
                <option value="Becas">Becas</option>
                <option value="Servicios Escolares">Servicios Escolares</option>
              </select>
            </div>
    
            <button type="submit" class="w-full bg-gradient-to-r from-slate-600 to-emerald-600 hover:from-slate-700 hover:to-emerald-700 text-white font-semibold py-3.5 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
              Generar Ticket
            </button>
          </form>
        </div>

        <div id="ticket-result" class="hidden bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-10 border border-slate-200" data-ticket-type="normal">
          <div class="w-full flex justify-end mb-2">
            <button onclick="descargar()" class="text-slate-600 hover:text-emerald-600 transition-colors duration-200 flex items-center gap-1 text-sm">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              Guardar en Drive
            </button>
          </div>
          <div class="text-center">
            <div class="mb-6">
              <div class="inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full">
                <svg class="w-12 h-12 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
            </div>
    
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Ticket Generado</h2>
            <p class="text-slate-600 text-sm mb-6">Guarda tu n칰mero de ticket</p>
            
            <div class="bg-gradient-to-br from-slate-50 to-emerald-50 rounded-2xl p-6 mb-6 space-y-4 border border-slate-200">
              <div class="flex justify-between items-center py-2 border-b border-slate-200">
                <span class="text-slate-600 font-medium text-sm">Ticket:</span>
                <span id="result-ticket" class="text-emerald-700 font-bold text-3xl"></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-slate-200">
                <span id="matricula-o-folio" class="text-slate-600 font-medium text-sm">Matr칤cula:</span>
                <span id="result-matricula-o-folio" class="text-slate-900 font-bold text-lg"></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-slate-200">
                <span class="text-slate-600 font-medium text-sm">Sector:</span>
                <span id="result-sector" class="text-slate-900 font-bold text-base"></span>
              </div>
              <div class="flex justify-between items-center py-2">
                <span class="text-slate-600 font-medium text-sm">Fecha:</span>
                <span id="result-fecha" class="text-slate-900 font-bold text-lg"></span>
              </div>
            </div>

            <!-- Tiempo aproximado de espera -->
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6">
              <p class="text-blue-700 text-lg font-semibold flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Tiempo aproximado de espera: 
                <span id="tiempo-estimado-minutos" class="text-blue-800">5</span> minutos
              </p>
            </div>
    
            <p class="text-slate-600 mb-6 text-sm">Por favor, espera a que tu n칰mero sea llamado</p>
    
            <div class="space-y-3">
              <button 
                onclick="imprimir()"
                class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3.5 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center gap-2"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                </svg>
                Imprimir Ticket
              </button>
              <button 
                onclick="resetForm()"
                class="w-full bg-slate-600 hover:bg-slate-700 text-white font-semibold py-3.5 rounded-xl transition-all duration-300 shadow-md hover:shadow-lg"
              >
                Generar Otro Ticket
              </button>
            </div>
          </div>
        </div>
        
        <div id="error-message" class="hidden mt-4 bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-xl">
          <p id="error-text"></p>
        </div>
      </div>
      
      <!-- idiomas -->
      <div class="gtranslate_wrapper" title="Cambiar idioma"></div>
      <script src="https://cdn.gtranslate.net/widgets/latest/float.js" defer></script>
      <script src="./js/idioma.js"></script>
  </div>
  <script type="module" src="./js/alumno.js"></script>
</body>
</html>